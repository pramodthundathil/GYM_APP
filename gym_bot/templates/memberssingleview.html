{% extends "index.html" %}
{% load static %}
{% static "images" as baseurl %}
{% block content %}

<div class="main-panel">
    <div class="content-wrapper pb-0">
      <div class="page-header flex-wrap">
        <h3 class="mb-0"> Member Details <span class="pl-0 h6 pl-sm-2 text-muted d-inline-block">Members.</span>
        </h3>
        <div class="d-flex">
          <button type="button" class="btn btn-sm bg-white btn-icon-text border">
            <i class="mdi mdi-email btn-icon-prepend"></i> Email </button>
          <button type="button" class="btn btn-sm bg-white btn-icon-text border ml-3">
            <i class="mdi mdi-printer btn-icon-prepend"></i> Print </button>
          <button type="button" data-bs-toggle="modal" data-bs-target="#staticBackdrop"
            class="btn btn-sm ml-3 btn-success"> Add Member </button>
        </div>
      </div>

<div class="row">
    <div class="col-xl-3 col-sm-6 grid-margin stretch-card">
        <div class="card" style="height: 500px;">
          <div class="card-body">
            <div class="card-title font-weight-medium"> {{member.First_Name}} {{member.Last_Name}} </div>
             <p class="text-muted"> Member Since:  <span class="badge badge-info">{{member.Registration_Date}}</span> </p>
            <div class="d-flex flex-wrap border-bottom py-2 border-top justify-content-between">
              <img class="survey-img mb-lg-3" src="{{member.Photo.url}}" alt="" style="width:60%;height:200px;display:block;margin:auto;object-fit:contain" />
            </div>
          <div class="d-flex flex-wrap border-bottom py-2 justify-content-center text-center">
              <!-- <img class="survey-img mb-lg-3" src="assets/images/dashboard/img_1.jpg" alt="" /> -->
              <div class="pt-2">
                <h5 class="mb-0"><span class="h6">DOB:</span>  {{member.Date_Of_Birth}} </h5>
                <p class="mb-0 text-muted">{{member.Address}}</p>
                <h5 class="mb-0"><span class="h6">Mob: </span>{{member.Mobile_Number}}</h5>
              </div>
            </div>
             <!-- <div class="d-flex flex-wrap border-bottom py-2 justify-content-between">
              <img class="survey-img mb-lg-3" src="assets/images/dashboard/img_2.jpg" alt="" />
              <div class="pt-2">
                <h5 class="mb-0">House on the Clarita</h5>
                <p class="mb-0 text-muted">Business Survey</p>
                <h5 class="mb-0">$459/mo</h5>
              </div>
            </div> -->
            <a class="text-black mt-3 d-block font-weight-medium h6" href="#">View all <i class="mdi mdi-chevron-right"></i></a>
          </div>
        </div>
      </div>

    <div class="col-xl-9 col-sm-6 grid-margin stretch-card">
      <div class="card">
        <div class="card-body px-0 overflow-auto">
          <h4 class="card-title pl-4">Member Information</h4>
          <div class="table-responsive">
            <div class="row">
                <div class="col-md-6 grid-margin stretch-card">
                    <div class="card">
                      <div class="card-body">
                        <h4 class="card-title">Personal Information</h4>
                        <p class="card-description">Edit Infomation</p>
                        <form class="forms-sample">
                          <div class="form-group">
                            <label for="exampleInputUsername1">First Name</label>
                            <input type="text" value="{{member.First_Name}}" name="fname" class="form-control" id="exampleInputUsername1" placeholder="Username" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputUsername1">Last Name</label>
                            <input type="text" value="{{member.Last_Name}}" name="lname" class="form-control" id="exampleInputUsername1" placeholder="Username" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputEmail1">Email address</label>
                            <input type="email" value="{{member.Email}}" name="email" class="form-control" id="exampleInputEmail1" placeholder="Email" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputPassword1">Date Of Birth</label>
                            <input type="date" value="{{member.Date_Of_Birth}}" name="address" class="form-control" id="exampleInputPassword1" placeholder="Password" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputPassword1">Phone Number</label>
                            <input type="number" value="{{member.Mobile_Number}}" name="address" class="form-control" id="exampleInputPassword1" placeholder="Password" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputPassword1">Address</label>
                            <input type="text" value="{{member.Address}}" name="address" class="form-control" id="exampleInputPassword1" placeholder="Password" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputConfirmPassword1">Medical History</label>
                            <input type="textarea" value="{{member.Medical_History}}" class="form-control" id="exampleInputConfirmPassword1" placeholder="Password" />
                          </div>
                          
                          <button type="submit" class="btn btn-primary mr-2"> Update </button>
                          <button class="btn btn-light">Cancel</button>
                        </form>
                        <br><br><br>
                        <form action="">
                          <div class="form-group">
                            <label for="exampleInputConfirmPassword1">Access Token <small>Change Access Token</small></label>
                            <input type="text" value="{{member.Access_Token_Id}}" class="form-control border-warning" id="exampleInputConfirmPassword1" placeholder="Token" />
                          </div>
                          <button type="submit" class="btn btn-warning mr-2"> Change </button>

                        </form>
                      </div>
                    </div>
                  </div>
                  <div class="col-md-6 grid-margin stretch-card">
                    <div class="card">
                      <div class="card-body">
                        <h4 class="card-title">Subscription Information</h4>
                        <p class="card-description">Edit Infomation</p>
                        <form class="forms-sample">
                          <div class="form-group">
                            <label for="exampleInputUsername1">Subscription</label>
                            <input type="text" class="form-control" id="exampleInputUsername1" value="{{subscription}}" readonly placeholder="Username" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputEmail1">Amount (AED)</label>
                            <input type="number" class="form-control" value="{{subscription.Amount}}" id="exampleInputEmail1" readonly placeholder="Email" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputPassword1">Subscribed Date</label>
                            <input type="text" class="form-control" value="{{subscription.Subscribed_Date}}" readonly id="exampleInputPassword1" placeholder="Password" />
                          </div>
                          <div class="form-group">
                            <label for="exampleInputPassword1">Subscription End Date</label>
                            <input type="text" class="form-control" value="{{subscription.Subscription_End_Date}}" readonly id="exampleInputPassword1" placeholder="Password" />
                          </div>
                          <div class="form-check form-check-flat form-check-primary">
                            <label class="form-check-label">
                              
                              {% if member.Active_status == True %}
                                  Status : <span class="badge bg-success">Active</span>
                              {%else%}
                                  Status : <span class="badge bg-success">Active</span>
                              {% endif %}

                               {% if subscription.Payment_Status == True %}
                                Payment Status: <span class="badge bg-success">Done</span>
                                {%else%}
                                Payment Status: <span class="badge bg-danger">Not Done</span> 
                               {% endif %}
                          </div>
                          <br><br>
                          <button type="submit" class="btn btn-primary mr-2"> Change Subscription </button>
                          <a href="{%url 'DeleteMember' member.id %}" class="btn btn-danger">Delete Member</a>
                        </form>
                      </div>
                    </div>
                  </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    
  </div>


{% endblock %}